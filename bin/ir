#!/bin/bash

device=$1
command=$2

main() {
    case $device in
        "tv" )
            tv
            ;;
        "speakers" )
            speakers
            ;;
        * )
            echo "unknown device"
            ;;
    esac
}

tv () {
    case $command in
        "power") send 26006000000123961015111511391114111412131115101511381139121411391139113911381139111511141114113911141114111511141139103a103a1114103a11391139103a110005170001264c11000c520001254d11000c520001264c12000d05;;
        "input") send 2600580000012495111410151139111411151114111410151139113911141139103a1139113911391139103a11150f3a101511141115111410151114113911141139113911391238110005170001264c11000c530001254c10000d05;;
        "mute")  send 26005800000124951114101511391015111412141015111411391139111411391139113911391139113911141114113911141115111411151014113911391015113911391139103a1100051b0001264b12000c560001264b11000d05;;
        "vol+")  send 260048000001249412141114113911141114111412141114103a11391114103a103a1139113911391114113911141015111510151015111411391114103a1139113911391139113911000d05;;
        "vol-")  send 2600500000012495111410151139111411151114111410160f3a11391015113911391139113911391139103a11151014111511141114111411141114123811391139113911391139120005170001264b11000d05;;
        *) echo "unknown command" ;;
    esac
}

speakers () {
    case $command in
        "opt/cox") send 2600500000012496111412141113103a12381139103a111410151238103a12381115111310151214113811391015121311141015111511131015111411391139103a123811391139110005480001264c10000d05;;
        "pc/aux") send 2600480000012595121311151113113a10391139113a11141014113911391139111511131114111510151014111510151014111511141014113911391238113912381238103a123811000d05;;
        "mute")  send 2600500000012595121410151015113911391039123911141114103a1139103a1015101412141015113910151114113910151114101510141214103a113911141139103a11381239100005480001274b11000d05;;
        "vol+")  send 2600500000012595111411151015103a10391139113a10151015103911391139111412141113111411391015111510150f15111411141115101511381139103a11391238103a1238120005470001274b10000d05;;
        "vol-")  send 260050000001259512131114101610391535103a113910151114103a113911391015111411141015101511391015111410160f151114101511391015103a10391338103a10391338100005480001284a11000d05;;
        *) echo "unknown command" ;;
    esac
}

send () {
    broadlink_cli --device @$HOME/.config/broadlink/config --send $1
}

main
